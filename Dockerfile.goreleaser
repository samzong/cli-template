FROM alpine:latest

RUN apk --no-cache add ca-certificates && \
    update-ca-certificates

RUN addgroup -g 1001 appgroup && \
    adduser -D -u 1001 -G appgroup appuser

WORKDIR /app

COPY mycli /app/mycli

RUN chmod +x /app/mycli && \
    chown -R appuser:appgroup /app

USER appuser

ENV PATH="/app:${PATH}"

ENTRYPOINT ["/app/mycli"]
